# @galiprandi/react-tools

A set of simple and intuitive utilities for developing React applications.

<p align="center">
<svg
   width="300"
   height="180"
   viewBox="0 0 300 180"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   sodipodi:docname="logo_white.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs1"><style
       id="style1">.cls-1{fill:currentColor;}.cls-2{fill:currentColor;}.cls-3{fill:currentColor;}</style></defs><g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"><g
       id="g23"
       transform="translate(-5.1966018,13.348662)"><path
         style="fill:currentColor;stroke-width:0.120308"
         d="m 183.43621,147.4019 c -0.0784,-0.0714 -5.91319,-0.39101 -12.96627,-0.71028 -7.05309,-0.31927 -12.88374,-0.63155 -12.95702,-0.69395 -0.15856,-0.13504 -8.2469,-31.69829 -8.24965,-32.19274 -0.001,-0.21215 2.57751,0.0619 6.82101,0.72493 3.7526,0.58631 7.07999,1.07273 7.3942,1.08093 0.51215,0.0134 0.48662,-0.17651 -0.24662,-1.8345 -0.44984,-1.01716 -0.81789,-1.91582 -0.81789,-1.99702 0,-0.0812 0.81203,0.31697 1.80451,0.88481 0.99248,0.56784 1.94141,0.94783 2.10873,0.84442 0.36226,-0.22389 4.30713,-6.5551 4.30713,-6.91262 0,-0.13626 -0.68979,-1.78437 -1.53286,-3.66247 -1.37251,-3.057511 -1.48263,-3.475171 -1.05271,-3.992611 0.26409,-0.31784 1.56568,-1.80334 2.89243,-3.30111 1.32675,-1.49778 2.32903,-2.80647 2.22728,-2.90821 -0.3601,-0.36011 -10.26427,-2.71708 -10.46468,-2.49036 -0.11193,0.12663 -0.85179,1.13115 -1.64414,2.23228 -2.00224,2.78256 -8.32658,8.072701 -14.58831,12.202731 -2.89089,1.90674 -5.42125,3.53015 -5.62305,3.60758 -0.20179,0.0774 -3.45377,-1.56134 -7.22663,-3.64173 -3.77285,-2.0804 -6.90308,-3.73919 -6.95606,-3.68622 -0.053,0.053 0.666,1.4888 1.5977,3.19073 0.93171,1.70193 2.38974,4.57409 3.24007,6.38257 l 1.54605,3.28815 0.20225,15.58304 0.20225,15.58305 -2.4858,-0.188 c -1.3672,-0.10341 -2.55744,-0.25964 -2.645,-0.3472 -0.15895,-0.15896 0.18143,-8.97142 0.93672,-24.2513 l 0.39979,-8.08827 -2.90477,-4.67535 -2.90479,-4.67535 -11.54963,-10.630241 -11.54965,-10.63024 -0.899049,-4.57434 c -0.70841,-3.60437 -0.898942,-5.5116 -0.898509,-8.99441 0,-3.8119 -1.123075,-19.87742 -1.460491,-20.88363 -0.06485,-0.19339 -5.182341,-1.66594 -11.372202,-3.27232 l -11.254294,-2.92069 -2.604765,0.5386 c -1.545549,0.31959 -4.372427,1.34188 -6.951723,2.514 -4.637177,2.10726 -5.966437,2.50063 -9.596227,2.83984 -6.573366,0.6143 -13.570314,-3.08049 -17.755505,-9.3759 -1.577094,-2.37231 -1.788247,-3.36035 -0.9683,-4.53099 0.503718,-0.71916 0.632303,-0.7308 8.072742,-0.7308 h 7.560879 l 0.540267,-1.23305 c 0.789991,-1.80305 0.774435,-6.75488 -0.02629,-8.364612 -0.720116,-1.447679 -1.022955,-1.507135 -9.481874,-1.86137 -6.114066,-0.256052 -6.848775,-0.520104 -6.848775,-2.46143 0,-2.369732 4.9119,-7.942581 8.851134,-10.0421733 4.393903,-2.341928 9.92634,-2.954573 13.927894,-1.542349 3.370875,1.189654 5.205981,2.531245 10.595685,7.7462143 3.765329,3.643264 5.484278,5.061804 7.265637,5.995912 1.878707,0.985142 5.530104,2.059361 18.737208,5.512418 9.022078,2.35887 16.591108,4.21697 16.820058,4.1291 0.30379,-0.11656 0.41625,-1.22538 0.41625,-4.1038 v -3.94407 l 3.65153,-5.110613 c 2.00835,-2.810841 3.79115,-5.196898 3.96178,-5.30236 0.17064,-0.105462 2.90498,-0.08434 6.07633,0.04694 l 5.76607,0.238703 3.13117,3.900784 c 1.72214,2.145429 3.20749,3.900784 3.30075,3.900784 0.0933,0 1.71597,-1.41504 3.60599,-3.14454 2.95566,-2.704609 3.55952,-3.119816 4.31638,-2.967867 0.48399,0.09717 2.60296,0.4904 4.70884,0.873834 l 3.82887,0.697173 4.02808,4.074448 4.02808,4.074436 1.20339,-1.087187 1.2034,-1.0872 4.91429,0.570416 c 2.70285,0.313728 4.9358,0.583145 4.96208,0.598713 0.0263,0.01556 1.55236,1.803906 3.39127,3.974076 1.8389,2.17018 3.46153,3.94578 3.60583,3.94578 0.1443,0 1.28587,-0.56259 2.53682,-1.25021 l 2.27445,-1.25022 4.92281,2.35037 4.92281,2.35039 2.04755,6.21596 2.04756,6.21597 -0.36714,4.20133 c -0.20193,2.31073 -0.30951,4.24786 -0.23907,4.30473 0.0704,0.0569 6.83794,1.8519 15.03889,3.98894 14.69986,3.83056 14.93812,3.88045 16.84049,3.52667 1.9721,-0.36675 4.83779,-1.47916 10.6658,-4.14028 4.3382,-1.98086 6.93025,-2.64101 10.35767,-2.63794 4.78021,0.004 9.84791,1.94665 13.29245,5.09476 1.91481,1.75004 5.36846,5.79626 6.05621,7.09535 0.62989,1.18976 0.4521,2.30127 -0.48614,3.03928 -0.82334,0.64764 -1.26954,0.6815 -8.98186,0.6815 h -8.11549 l -0.7019,1.24888 c -1.68154,2.99191 -1.58081,6.82344 0.25555,9.71906 l 0.90267,1.42337 2.75283,0.21876 c 1.51406,0.12032 5.01935,0.31519 7.78953,0.43304 4.2549,0.18102 5.16083,0.31193 5.83647,0.84338 1.07902,0.84876 1.02403,2.07187 -0.1784,3.96791 -4.09849,6.46264 -13.60285,11.5028 -20.71478,10.98504 -5.54536,-0.4037 -9.55605,-2.4772 -13.78376,-7.12612 -4.96227,-5.45666 -8.70128,-9.07885 -10.38158,-10.05724 -1.16728,-0.67968 -5.24449,-1.90291 -14.30345,-4.29125 -6.96891,-1.83732 -12.76219,-3.24726 -12.87395,-3.1332 -0.11175,0.11405 -0.95434,4.0545 -1.87241,8.75656 l -1.66921,8.54918 -4.15816,9.371231 c -2.28699,5.15417 -5.31281,11.7648 -6.72403,14.69028 l -2.56587,5.31905 0.22495,13.09458 c 0.20276,11.80247 0.15349,13.89735 -0.31678,13.46897 z M 132.31352,97.364409 c 3.06677,-0.46035 5.63784,-0.89888 5.71346,-0.97451 0.13397,-0.13396 2.67432,-20.33144 2.57111,-20.442 -0.0285,-0.0306 -2.40095,1.27922 -5.27201,2.91067 -4.05126,2.3021 -5.28318,2.86674 -5.50182,2.52171 -0.15494,-0.24451 -0.30003,-1.85025 -0.32244,-3.5683 -0.0224,-1.71806 -0.13563,-4.01039 -0.25163,-5.09408 l -0.21093,-1.97033 -1.07935,2.3486 -1.07936,2.3486 -5.66136,-2.62631 c -3.11374,-1.44448 -5.71672,-2.68118 -5.78441,-2.74824 -0.0677,-0.0671 0.41296,-0.86802 1.06811,-1.77993 0.65514,-0.91191 1.11796,-1.65802 1.02849,-1.65802 -0.0895,0 -1.21171,0.74854 -2.49387,1.66342 -1.61209,1.15031 -2.27861,1.47995 -2.16075,1.06865 0.0937,-0.32713 0.49251,-1.77145 0.88619,-3.20962 0.39366,-1.43816 0.78828,-2.80385 0.87692,-3.03487 0.12695,-0.3308 -0.49183,-0.37805 -2.91298,-0.22242 l -3.07416,0.19761 -1.02709,-1.80559 -1.0271,-1.80559 2.26016,-1.76198 c 1.24308,-0.9691 2.26015,-1.81397 2.26015,-1.8775 0,-0.0635 -0.69428,-1.36235 -1.54285,-2.88628 -1.09081,-1.95895 -1.69294,-2.72903 -2.0551,-2.62829 -0.28173,0.0784 -1.17808,0.24215 -1.99191,0.36396 l -1.47967,0.22148 2.42621,-1.82994 2.4262,-1.82994 2.99925,0.175 2.99924,0.17499 2.06136,-3.11349 c 1.83353,-2.76938 4.67934,-8.28868 4.67934,-9.07532 0,-0.25516 -11.47404,-0.53441 -11.52895,-0.28057 -0.0112,0.052 -0.27755,1.57413 -0.59181,3.38261 l -0.57135,3.28815 -0.82171,-3.28815 -0.82171,-3.28813 -1.59052,-0.75787 c -0.8748,-0.41682 -1.7672,-0.69007 -1.98311,-0.60722 -0.21591,0.0829 -1.39122,1.71717 -2.61178,3.63181 l -2.219204,3.48116 0.861791,11.7321 c 0.736813,10.03065 0.811413,12.2843 0.514413,15.53969 -0.331485,3.63335 -0.305787,3.99284 0.56163,7.85594 l 0.90902,4.04835 11.67292,9.19032 c 9.76915,7.69143 11.80699,9.16311 12.49496,9.0235 0.45213,-0.0917 3.33123,-0.54347 6.39801,-1.00383 z m 46.23978,-9.55098 c -0.74985,-1.39018 -1.32171,-2.56133 -1.27081,-2.60255 0.0509,-0.0412 1.183,-0.43402 2.51575,-0.87288 l 2.42318,-0.79795 2.26243,-3.86951 c 2.08532,-3.5666 2.26242,-4.01729 2.26242,-5.75731 v -1.88781 l -6.00087,-1.83707 c -3.30047,-1.01039 -6.04489,-1.79758 -6.09869,-1.74931 -0.0538,0.0483 0.87403,1.47408 2.06188,3.16848 1.18785,1.69439 2.11968,3.22808 2.07072,3.40818 -0.19337,0.71146 -4.89184,4.49727 -5.35896,4.31802 -0.26523,-0.10178 -1.55547,-0.90683 -2.86718,-1.789 -1.31171,-0.88218 -3.00028,-1.99007 -3.75236,-2.462 l -1.36744,-0.85804 0.74298,2.36908 c 0.40862,1.30299 1.28294,4.0814 1.9429,6.17426 l 1.19993,3.80518 5.17878,1.9669 c 2.84834,1.08179 5.23277,1.92955 5.29875,1.88391 0.066,-0.0456 -0.49355,-1.2204 -1.24341,-2.61058 z m -11.35836,-31.72001 1.98603,-0.37043 2.21445,-6.92263 c 1.21794,-3.80745 2.16528,-6.97179 2.1052,-7.03187 -0.0601,-0.0601 -1.35059,1.39013 -2.86781,3.22271 -1.5172,1.83257 -2.80069,3.19746 -2.85219,3.03308 -0.22435,-0.71605 -2.40573,-15.02162 -2.39106,-15.68065 0.009,-0.40158 1.03214,-2.13583 2.27381,-3.85389 l 2.25755,-3.12374 -1.53397,-1.58442 -1.53398,-1.584419 -1.56708,1.748839 c -0.86191,0.96185 -1.64027,2.04475 -1.7297,2.40644 -0.24092,0.9745 -4.43036,25.86884 -4.43036,26.326 0,0.21537 0.99877,1.2217 2.21949,2.23629 1.70941,1.42075 2.40842,1.81074 3.04154,1.69691 0.45212,-0.0813 1.71575,-0.31449 2.80808,-0.51822 z m 15.2969,-1.14965 c 1.48799,-0.20328 1.51589,-0.23085 3.53476,-3.49312 1.11921,-1.80852 2.03222,-3.6085 2.02888,-3.99995 -0.003,-0.39145 -0.50266,-2.26715 -1.10961,-4.16821 -1.60252,-5.01921 -1.75635,-7.36335 -0.71007,-10.82029 0.46082,-1.52253 0.79225,-2.81383 0.73654,-2.86955 -0.0557,-0.0557 -0.78636,0.59813 -1.62364,1.45299 -1.45028,1.4807 -1.69234,2.02549 -5.11297,11.50695 l -3.59063,9.95266 1.31189,1.49041 c 1.08151,1.22866 1.46323,1.46078 2.17347,1.3217 0.47385,-0.0928 1.53647,-0.2609 2.36138,-0.37359 z m -35.09945,-2.39559 1.18382,-1.91794 -0.65344,-6.22022 c -0.38388,-3.6542 -0.99718,-7.49083 -1.48667,-9.30022 l -0.83323,-3.07998 1.99366,-4.72084 c 1.09651,-2.59647 1.99366,-4.839923 1.99366,-4.985483 0,-0.345164 -4.21995,-4.528467 -4.37543,-4.337418 -0.0653,0.08029 -0.89108,1.265111 -1.83497,2.632918 l -1.71615,2.486923 1.26771,2.93623 1.2677,2.93621 -2.25084,5.75656 -2.25084,5.75657 0.38922,4.76782 0.38922,4.76781 2.64564,2.2195 c 1.4551,1.22072 2.74498,2.2195 2.86638,2.2195 0.12141,0 0.75345,-0.86307 1.40456,-1.91794 z m -24.5536,-27.36236 c 0.62053,-2.658521 0.59248,-7.125174 -0.0638,-10.162675 -0.31435,-1.454934 -0.66113,-2.640738 -0.7706,-2.635131 -0.10948,0.0057 -1.73187,2.102419 -3.60532,4.65959 l -3.40626,4.649401 0.23529,3.807385 c 0.12942,2.09407 0.29736,3.9104 0.3732,4.0363 0.0758,0.1259 1.64116,-0.39908 3.47848,-1.16664 l 3.34059,-1.39553 z"
         id="path22" /><text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:32.3137px;font-family:'Myriad Pro';-inkscape-font-specification:'Myriad Pro, Semi-Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:currentColor;stroke-width:0.220534"
         x="73.03759"
         y="135.06615"
         id="text22"><tspan
           sodipodi:role="line"
           id="tspan22"
           x="73.03759"
           y="135.06615"
           style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:32.3137px;font-family:'Myriad Pro';-inkscape-font-specification:'Myriad Pro, Semi-Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;stroke-width:0.220534">react</tspan></text><text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:32.3137px;font-family:'Myriad Pro';-inkscape-font-specification:'Myriad Pro, Semi-Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;writing-mode:lr-tb;direction:ltr;text-anchor:middle;fill:currentColor;stroke-width:0.220534"
         x="238.70284"
         y="136.64951"
         id="text23"><tspan
           sodipodi:role="line"
           id="tspan23"
           x="238.70284"
           y="136.64951"
           style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:32.3137px;font-family:'Myriad Pro';-inkscape-font-specification:'Myriad Pro, Semi-Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;stroke-width:0.220534">tools</tspan></text></g></g></svg>

</p>

***

<p align="center">
  <a href="https://www.npmjs.com/package/@galiprandi/react-tools">
    <img src="https://img.shields.io/npm/d18m/%40galiprandi%2Freact-tools?style=for-the-badge&logo=npm&color=CB3837" alt="NPM Downloads"/>
  </a>
  <a href="https://jsr.io/@galiprandi/react-tools">
    <img src="https://img.shields.io/jsr/v/%40galiprandi/react-tools?style=for-the-badge&logo=javascript&color=F7DF1E" alt="JSR Version"/>
  </a>
  <a href="https://github.com/galiprandi/react-tools">
    <img src="https://img.shields.io/github/stars/galiprandi/react-tools?style=for-the-badge&logo=github&color=181717" alt="GitHub Stars"/>
  </a>
</p>

***

## Overview

**@galiprandi/react-tools** is a dependency-free utility package offering composable components and hooks that simplify React development while maintaining accessibility and performance.

### üîó [Playground](https://stackblitz.com/edit/ga-react-tools?file=index.html)

***

## üöÄ Installation

```bash
npm i @galiprandi/react-tools
# or
yarn add @galiprandi/react-tools
# or
pnpm i @galiprandi/react-tools
```

***

## üì¶ Components

* `<AsyncBlock />`: Declaratively renders asynchronous content with state handling.
* `<Form />`: Enhanced `form` element wrapper.
* `<Input />`: Reusable and extensible `input` component.
* `<DateTime />`: `datetime-local` input with ISO format support.
* `<Dialog />`: Accessible dialog/modal wrapper.
* `<Observer />`: Tracks element visibility via Intersection Observer.
* `<LazyRender />`: Delays rendering until visible in viewport.

## ü™ù Hooks

* `useDebounce(value, delay)`: Returns a debounced value.

***

## üìò Components in Detail

### AsyncBlock

Declaratively renders asynchronous content with pending, success, and error states.

**Props:**

* `promiseFn: (signal?: AbortSignal) => Promise<T>` - Function that returns a Promise
* `pending: ReactNode | (() => ReactNode)` - Content to display during loading
* `success: (data: T) => ReactNode` - Function to render on successful resolution
* `error: (err: unknown) => ReactNode` - Function to render on error
* `timeOut?: number` - Optional timeout in milliseconds
* `deps?: any[]` - Dependencies to re-run the promise when changed
* `onSuccess?: (data: T) => void` - Optional callback on success
* `onError?: (err: unknown) => void` - Optional callback on error

**Example:**

```tsx
<AsyncBlock
    promiseFn={() => fetch(`/api/users/${userId}`).then((res) => res.json())}
    pending={<p>Loading user data...</p>}
    success={(data) => (
        <div>
            <h2>{data.name}</h2>
            <p>Email: {data.email}</p>
        </div>
    )}
    error={(err) => <p>Error: {(err as Error)?.message}</p>}
    timeOut={5000} // Cancel after 5 seconds
    deps={[userId]} // Re-run when userId changes
/>
```

***

### Form

Wraps a native `<form>` and captures values on submit.

**Props:**

* `onSubmitValues: (values: T) => void`
* `filterEmptyValues?: boolean` ‚Äì Remove empty fields before submit. *(Default: false)*

**Example:**

```tsx
<Form<MyFormValues> onSubmitValues={setValues} filterEmptyValues>
    <Input name="username" label="Username" placeholder="Username" />
    <Input
        name="password"
        label="Password"
        placeholder="Password"
        type="password"
    />
    <button type="submit">Login</button>
</Form>
```

***

### Input

Enhanced `input` with support for transformations, debouncing, datalist, and more.

**Additional Props:**

* `label`
* `onChangeValue`, `onChangeDebounce`, `debounceDelay`
* `transform`: "toUpperCase" | "toLowerCase" | "capitalize" | "titleCase" | "snakeCase" | "onlyNumbers" | "onlyLetters" | "onlyEmail" | "onlyAlphanumeric"
* `transformFn`: `(value: string) => string`
* `datalist: string[]`

**Example:**

```tsx
<Input
    label="Name"
    placeholder="Enter full name"
    transform="titleCase"
    onChangeValue={setValue}
    onChangeDebounce={setValueDebounced}
    debounceDelay={1000}
    datalist={['John Doe', 'Jane Smith']}
/>
```

***

### DateTime

Wrapper for `input[type=datetime-local]` with ISO (RFC 3339) support.

**Additional Props:**

* `isoValue`: string
* `onChangeISOValue`: (iso: string) => void
* Inherits all `Input` props

**Example:**

```tsx
<DateTime
    label="Select your birthday"
    isoValue={isoValue}
    onChangeISOValue={setIsoValue}
/>
```

***

### Dialog

Wraps the native `dialog` element with modal support and accessibility features.

**Props:**

* `isOpen?: boolean`
* `behavior?: 'dialog' | 'modal'` *(Default: 'modal')*
* `onOpen?`, `onClose?`
* `opener?`: ReactNode
* `children?`: ReactNode

**Example:**

```tsx
<Dialog
    behavior="modal"
    opener={<button>Open Dialog</button>}
    onOpen={() => console.log('Opened')}
    onClose={() => console.log('Closed')}
>
    <h2>Hello üëã</h2>
    <p>This is a dialog example.</p>
</Dialog>
```

***

### Observer

Detects when a child enters/exits the viewport.

**Props:**

* `onChange: (isVisible: boolean) => void`
* `threshold?: number | number[]`

**Example:**

```tsx
<Observer onChange={(visible) => console.log(visible)}>
    <p>Track my visibility</p>
</Observer>
```

***

### LazyRender

Renders children only when visible in viewport.

**Props:**

* `placeholder?: ReactNode`
* `threshold?: number | number[]`

**Example:**

```tsx
<LazyRender placeholder={<div>Loading...</div>}>
    <img src="/heavy-content.jpg" alt="Lazy Loaded" />
</LazyRender>
```

***

## üîÅ Hook: useDebounce

Returns a debounced value after a delay.

**Signature:**

```ts
function useDebounce<T>(value: T, delay: number): T
```

**Example:**

```tsx
const debounced = useDebounce(searchTerm, 500)
```

***

## License

MIT ¬© [@galiprandi](https://github.com/galiprandi)
